<div class="layout">
  <div class="header">
    <!-- Left Team Selector (Blue) -->
    <div class="team-selector blue">
      <label for="teamSelectA">Select Team:</label>
      <select id="teamSelectA" (change)="onTeamSelect('A', $any($event))">
        <option value="">-- Select a Team --</option>
        <option *ngFor="let team of teams" [value]="team.team.id">
          {{ team.team.name }}
        </option>
      </select>
    </div>
    <!-- Formation selectors (Purple) -->
    <div class="formation-selectors purple">
      <div class="selector">
        <label for="formationA">Team A Formation:</label>
        <select id="formationA" (change)="selectFormation('A', $any($event.target).selectedIndex)">
          <option *ngFor="let formation of formations">{{ formation.name }}</option>
        </select>
      </div>
      <div class="selector">
        <label for="formationB">Team B Formation:</label>
        <select id="formationB" (change)="selectFormation('B', $any($event.target).selectedIndex)">
          <option *ngFor="let formation of formations">{{ formation.name }}</option>
        </select>
      </div>
    </div>
    <!-- Right Team Selector (Blue) -->
    <div class="team-selector blue">
      <label for="teamSelectB">Select Team:</label>
      <select id="teamSelectB" (change)="onTeamSelect('B', $any($event))">
        <option value="">-- Select a Team --</option>
        <option *ngFor="let team of teams" [value]="team.team.id">
          {{ team.team.name }}
        </option>
      </select>
    </div>
  </div>

  <!-- Main area: red team pictures on sides with the green field in the center -->
  <div class="main">
    <!-- Left Team Picture (Red) -->
    <div class="team-picture red">
      <img [src]="selectedTeamA ? selectedTeamA.team.logo : 'assets/teamA.jpg'" alt="Team A" />
    </div>
    <div class="field-container green">
      <!-- Field container (Green) with drag/drop bindings -->
      <div #container class="container"
           (mousemove)="onFieldMouseMove($event)"
           (mouseup)="onFieldMouseUp($event)"
           (mouseleave)="onFieldMouseUp($event)"
           (click)="onFieldClick($event)">
        <div class="line"></div>
        <div class="half"></div>
        <div class="panelty left"></div>
        <div class="panelty right"></div>
        <div class="p-spot left">&nbsp;</div>
        <div class="p-spot right">&nbsp;</div>
        <div class="center"></div>
        <div class="p-place left"></div>
        <div class="p-place right"></div>

        <!-- Render tokens for Team A -->
        <div *ngFor="let token of teamATokens"
             class="token token-a"
             [style.left.%]="token.x"
             [style.top.%]="token.y"
             [style.background-color]="getTokenColor(token)"
             (mousedown)="onTokenMouseDown(token, $event)"
             (contextmenu)="onTokenRightClick(token, $event)">
          <div class="token-content">
            <span class="token-number">{{ token.number }}</span>
            <span class="token-name">{{ token.name }}</span>
          </div>
        </div>

        <!-- Render tokens for Team B -->
        <div *ngFor="let token of teamBTokens"
             class="token token-b"
             [style.left.%]="token.x"
             [style.top.%]="token.y"
             [style.background-color]="getTokenColor(token)"
             (mousedown)="onTokenMouseDown(token, $event)"
             (contextmenu)="onTokenRightClick(token, $event)">
          <div class="token-content">
            <span class="token-number">{{ token.number }}</span>
            <span class="token-name">{{ token.name }}</span>
          </div>
        </div>
      </div>
    </div>
    <!-- Right Team Picture (Red) -->
    <div class="team-picture red">
      <img [src]="selectedTeamB ? selectedTeamB.team.logo : 'assets/teamB.jpg'" alt="Team B" />
    </div>
  </div>
</div>
